{"version":3,"file":"main.31f448f4cf5fda850a57.hot-update.js","mappings":";w2BACA,ujNAsJA,IAnIMA,WACJ,0GAAc,SACZC,KAAKC,gBACLD,KAAKE,kBACLF,KAAKG,aAELH,KAAKI,cAELJ,KAAKK,oBACLL,KAAKM,mBAELN,KAAKO,kEAGP,WACEP,KAAKQ,UAAY,IAAIC,EAAAA,QACrBT,KAAKQ,UAAUE,KAAK,YAAaV,KAAKW,YAAYC,KAAKZ,oCAGzD,WACEA,KAAKa,QAAUC,SAASC,cAAc,YACtCf,KAAKgB,SAAWhB,KAAKa,QAAQI,aAAa,4CAG5C,WACEjB,KAAKkB,MAAQ,CACXC,MAAO,IAAIC,EAAAA,QACXC,KAAM,IAAIC,EAAAA,QACVC,QAAS,IAAIC,EAAAA,QACbC,QAAS,IAAIC,EAAAA,QACbC,MAAO,IAAIC,EAAAA,QACXC,MAAO,IAAIC,EAAAA,QACXC,QAAS,IAAIC,EAAAA,QACbC,QAAS,IAAIC,EAAAA,QACbC,QAAS,IAAIC,EAAAA,QACbC,YAAa,IAAIC,EAAAA,QACjBC,OAAQ,IAAIC,EAAAA,SAGdxC,KAAKyC,KAAOzC,KAAKkB,MAAMlB,KAAKgB,UAC5B0B,QAAQC,IAAI3C,KAAKyC,MACjBzC,KAAKyC,KAAKG,SACV5C,KAAKyC,KAAKI,OACV7C,KAAK8C,qCAGP,WACE9C,KAAK+C,KAAO,IAAIC,EAAAA,QAChBhD,KAAKiD,cAAgB,IAAIC,EAAAA,QAAS,0CAGpC,WACElD,KAAKQ,UAAU2C,UACfnD,KAAK8C,WACL9C,KAAKyC,KAAKI,iCAGZ,WACE7C,KAAKoD,SAAS,CACZC,IAAKC,OAAOC,SAASC,SACrBC,MAAM,yCAIV,wGAAiBJ,EAAjB,EAAiBA,IAAjB,IAAuBI,KAAAA,OAAvB,kBACQzD,KAAKyC,KAAKiB,OADlB,uBAEwBJ,OAAOK,MAAMN,GAFrC,UAIyB,OAFjBO,EAFR,QAIcC,OAJd,iCAKuBD,EAAQE,OAL/B,OAKUC,EALV,OAOUC,EAAMlD,SAASmD,cAAc,OAEhCR,GACDH,OAAOY,QAAQC,UAAU,GAAI,GAAId,GAGnCW,EAAII,UAAYL,EACVM,EAAaL,EAAIjD,cAAc,YAErCf,KAAKgB,SAAWqD,EAAWpD,aAAa,iBAExCjB,KAAKa,QAAQyD,aAAa,gBAAiBtE,KAAKgB,UAChDhB,KAAKa,QAAQuD,UAAYC,EAAWD,UAEpCpE,KAAKyC,KAAOzC,KAAKkB,MAAMlB,KAAKgB,UAE5BhB,KAAKyC,KAAKG,SACV5C,KAAKyC,KAAKI,OACV7C,KAAKG,aAELH,KAAKM,mBA3BT,wBA8BKoC,QAAQC,IAAI,SA9BjB,oSAkCA,WACK3C,KAAKyC,MAAQzC,KAAKyC,KAAKK,UACxB9C,KAAKyC,KAAKK,iCAId,WACK9C,KAAKyC,MAAQzC,KAAKyC,KAAKlC,QACxBP,KAAKyC,KAAKlC,SAEZP,KAAKuE,MAAQjB,OAAOkB,sBAAsBxE,KAAKO,OAAOK,KAAKZ,wCAG7D,WACEsD,OAAOmB,iBAAiB,WAAYzE,KAAK0E,WAAW9D,KAAKZ,OACzDsD,OAAOmB,iBAAiB,SAAUzE,KAAK8C,SAASlC,KAAKZ,uCAGvD,WAAmB,WACX2E,EAAQ7D,SAAS8D,iBAAiB,WAExCC,IAAKF,GAAO,SAAAG,GACVA,EAAKC,QAAU,SAAAC,GACbA,EAAMC,iBAEN,IAAQC,EAASJ,EAATI,KAER,EAAK9B,SAAS,CAAEC,IAAK6B,8FA7HvBnF,mBCpBNoF,EAAoBC,EAAI,IAAM","sources":["webpack://ln10_prismic/./app/index.js","webpack://ln10_prismic/webpack/runtime/getFullHash"],"sourcesContent":["import each from 'lodash/each'\n\nimport Preloader from 'components/Preloader'\n\nimport About from 'pages/About'\nimport Home from 'pages/Home'\nimport Contact from 'pages/Contact'\nimport Antonin from 'pages/Antonin'\nimport Ninon from 'pages/Ninon'\nimport Manon from 'pages/Manon'\nimport Galerie from 'pages/Galerie'\nimport Projets from 'pages/Projets'\nimport Menu from 'components/Menu'\nimport TextAnim from 'utils/textAnim'\nimport Silence from 'pages/Silence'\nimport SaintGilles from 'pages/SaintGilles'\nimport Monaco from 'pages/Monaco'\n\n\n\nclass App {\n  constructor() {\n    this.createContent()\n    this.createPreloader()\n    this.createMenu()\n\n    this.createPages()\n\n    this.addEventListeners()\n    this.addLinkListeners()\n\n    this.update()\n  }\n\n  createPreloader() {\n    this.preloader = new Preloader()\n    this.preloader.once('completed', this.onPreloaded.bind(this))\n  }\n\n  createContent() {\n    this.content = document.querySelector('.content')\n    this.template = this.content.getAttribute('data-template')\n  }\n\n  createPages() {\n    this.pages = {\n      about: new About(),\n      home: new Home(),\n      contact: new Contact(),\n      antonin: new Antonin(),\n      ninon: new Ninon(),\n      manon: new Manon(),\n      galerie: new Galerie(),\n      projets: new Projets(),\n      silence: new Silence(),\n      saintGilles: new SaintGilles(),\n      monaco: new Monaco()\n    }\n\n    this.page = this.pages[this.template]\n    console.log(this.page)\n    this.page.create()\n    this.page.show()\n    this.onResize()\n  }\n\n  createMenu() {\n    this.menu = new Menu()\n    this.menuAnimation = new TextAnim(\".menu__item\")\n  }\n\n  onPreloaded() {\n    this.preloader.destroy()\n    this.onResize()\n    this.page.show()\n  }\n\n  onPopState() {\n    this.onChange({\n      url: window.location.pathname,\n      push: false\n    })\n  }\n\n  async onChange({ url , push = true }) {\n    await this.page.hide()\n    const request = await window.fetch(url)\n\n     if(request.status === 200) {\n      const html = await request.text()\n \n      const div = document.createElement('div')\n\n      if(push) {\n        window.history.pushState({}, '', url)\n      }\n\n      div.innerHTML = html\n      const divContent = div.querySelector('.content')\n\n      this.template = divContent.getAttribute('data-template')\n\n      this.content.setAttribute('data-template', this.template )\n      this.content.innerHTML = divContent.innerHTML\n\n      this.page = this.pages[this.template]\n\n      this.page.create()\n      this.page.show()\n      this.createMenu()\n    \n      this.addLinkListeners()\n\n     } else {\n       console.log('error')\n     }\n  }\n\n  onResize() {\n    if(this.page && this.page.onResize) {\n      this.page.onResize()\n    }\n  }\n\n  update() {\n    if(this.page && this.page.update) {\n      this.page.update()\n    }\n    this.frame = window.requestAnimationFrame(this.update.bind(this))\n  }\n\n  addEventListeners() {\n    window.addEventListener('popstate', this.onPopState.bind(this))\n    window.addEventListener('resize', this.onResize.bind(this))\n  }\n\n  addLinkListeners() {\n    const links = document.querySelectorAll('a.fetch')\n\n    each(links, link => {\n      link.onclick = event => {\n        event.preventDefault()\n\n        const { href } = link \n\n        this.onChange({ url: href})\n      }\n    })\n  }\n}\n\nnew App()\n\n","__webpack_require__.h = () => (\"65c0a700e0a9ec96f7db\")"],"names":["App","this","createContent","createPreloader","createMenu","createPages","addEventListeners","addLinkListeners","update","preloader","Preloader","once","onPreloaded","bind","content","document","querySelector","template","getAttribute","pages","about","About","home","Home","contact","Contact","antonin","Antonin","ninon","Ninon","manon","Manon","galerie","Galerie","projets","Projets","silence","Silence","saintGilles","SaintGilles","monaco","Monaco","page","console","log","create","show","onResize","menu","Menu","menuAnimation","TextAnim","destroy","onChange","url","window","location","pathname","push","hide","fetch","request","status","text","html","div","createElement","history","pushState","innerHTML","divContent","setAttribute","frame","requestAnimationFrame","addEventListener","onPopState","links","querySelectorAll","each","link","onclick","event","preventDefault","href","__webpack_require__","h"],"sourceRoot":""}